<Window x:Class="GameCapturePlayer.AdvancedWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Advanced Settings" Height="420" Width="520"
        WindowStartupLocation="CenterOwner">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="12" >
            <TextBlock Text="System Tweaks (apply immediately while running)" FontWeight="Bold"/>
            <StackPanel Margin="0,6,0,12">
                <CheckBox x:Name="chkHighPrio" Content="High process priority" Margin="0,4,0,0" Checked="ChkHighPrio_Changed" Unchecked="ChkHighPrio_Changed"/>
                <CheckBox x:Name="chkOneMsTimer" Content="1 ms system timer (timeBeginPeriod)" Margin="0,4,0,0" Checked="ChkOneMsTimer_Changed" Unchecked="ChkOneMsTimer_Changed"/>
                <CheckBox x:Name="chkLowLatencyGC" Content=".NET SustainedLowLatency GC" Margin="0,4,0,0" Checked="ChkLowLatencyGC_Changed" Unchecked="ChkLowLatencyGC_Changed"/>
            </StackPanel>

            <Separator/>
            <TextBlock Text="Video Graph Tweaks (take effect on next Start)" FontWeight="Bold"/>
            <StackPanel Margin="0,6,0,12">
                <CheckBox x:Name="chkSingleStream" Content="VMR9 single stream" Margin="0,4,0,0" Checked="GraphTweaks_Changed" Unchecked="GraphTweaks_Changed"/>
                <CheckBox x:Name="chkMinimalBuffering" Content="Minimal pin buffering (IAMBufferNegotiation)" Margin="0,4,0,0" Checked="GraphTweaks_Changed" Unchecked="GraphTweaks_Changed"/>
                <CheckBox x:Name="chkNoGraphClock" Content="No graph clock (SetSyncSource null)" Margin="0,4,0,0" Checked="GraphTweaks_Changed" Unchecked="GraphTweaks_Changed"/>
                <TextBlock Foreground="Gray" FontSize="12" Text="Tip: Stop and Start preview to apply these."/>
            </StackPanel>

            <Separator/>
            <TextBlock Text="Video Format (applies on next Start)" FontWeight="Bold"/>
            <StackPanel Margin="0,6,0,12" Orientation="Horizontal">
                <TextBlock Text="Resolution:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <ComboBox x:Name="cmbFormats" Width="260" SelectionChanged="CmbFormats_SelectionChanged"/>
                <TextBlock Text="  " Width="8"/>
                <TextBlock x:Name="txtFormatHint" Foreground="Gray" FontSize="12" VerticalAlignment="Center" Text="Stop/Start to apply"/>
            </StackPanel>

            <Separator/>
            <StackPanel Margin="0,6,0,0" Orientation="Horizontal">
                <CheckBox x:Name="chkShowStats" Content="Show stats overlay" Margin="0,0,8,0" Checked="ChkShowStats_Changed" Unchecked="ChkShowStats_Changed"/>
                <TextBlock Text="Position:" Margin="16,6,4,0"/>
                <ComboBox x:Name="cmbStatsPos" Width="140" SelectionChanged="CmbStatsPos_SelectionChanged">
                    <ComboBoxItem Content="TopLeft"/>
                    <ComboBoxItem Content="TopRight"/>
                    <ComboBoxItem Content="BottomLeft"/>
                    <ComboBoxItem Content="BottomRight"/>
                </ComboBox>
            </StackPanel>
            <TextBlock Foreground="Gray" FontSize="12" Margin="0,6,0,0" Text="Overlay renders inside the preview panel to avoid airspace issues."/>
        </StackPanel>
    </ScrollViewer>
</Window>
